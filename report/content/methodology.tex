\documentclass[../main.tex]{subfiles}
\graphicspath{{\subfix{../src/}}}


\begin{document}
\section{Methodology}

\subsection{Dataset Creation}

In order to train a simulated hand prosthetic, a sofisticated dataset containing the measured relation between muscle activity and the finger placements is needed.
The paper \cite{KeunTaeKim2021} proposes the SHAP procedure \cite{shap} as its main method of dataset creation.
An alternative would be the Sollerman test \cite{sollerman} as both procedures are used in assessing the function and moveability of the human hand.
By analyzing the most important gripping motions in both tests, it should be possible to denote a suitable set of grips that the dataset should contain.
The sollerman grip types are ranked based on their usage percentage in activities of daily living.
The most used grip types according to sollerman are the \textit{Pulp pinch}, \textit{Lateral pinch}, \textit{Five-Finger pinch} \& \textit{Diagonal Volar grip (Power grip)}, see \cite{sollerman} for further details.
SHAP also proposes a set of grip types that are used in day-to-day tasks, these are \textit{Spherical grip}, \textit{Tripod pinch}, \textit{Power grip} \& \textit{Lateral pinch}.

In order to create a dataset mimics the movements of day-to-day tasks, the most important grips from \cite{sollerman} \& \cite{shap} has been chosen.
The grip types that needs to be part of the dataset and their usage descriptions can be seen in table \ref{tab:grips}.

\begin{table}[h]
\begin{center}
\begin{tabular}{ |l|l| } 
 \hline
 Grip Type & Finger Usage Description \\ 
 \hline
 Pulp pinch & Between thumb, index and middle finger \\ 
 Lateral pinch & Between thumb \& side of index finger \\ 
 Five-Finger pinch & Between thumb, and all four fingers \\ 
 Power grip & Between thumb, and all four fingers with contact to palm \\ 
 \hline
\end{tabular}
\caption{The most used hand grips in day-to-day tasks based on \cite{sollerman} \& \cite{shap}.}
\label{tab:grips}
\end{center}
\end{table}

The chosen grips are chosen as a basis for the creation of a dataset. creating 


\subsubsection{Existing datasets}

In addition to creating a specific dataset for this thesis, it would be intresting to compare with an existing state-of-the-art dataset.
The paper \cite{jarque2019} proposes the use of their dataset \cite{kinmusdataset}.


%The recording of the dataset is done using the software explained in section \ref{sec:software}, namely Motive \cite{motive} \& EMGworks \cite{emgworks}.
%TODO: Present more formally and mention company names.

\subsubsection{Motion Capture Glove}

In order to get precise recordings of the motion of the hand and fingers, using Motive \cite{motive}, flourecent 3D markers were placed on a glove.
The pattern of the marker positions were carefully closen in order to calculate the angles of the individual finger bones.
The precise positions of the 3D markers on the recorder glove can be seen in figure \ref{fig:glove}.

\begin{figure}[h]
\begin{center}
\includegraphics[width=0.8\textwidth]{example-image-a}
\caption{Example figure text}
\label{fig:glove}
\end{center}
\end{figure}

\subsubsection{Sensor Locations etc.}

The muscle recording sensors are located along the muscles of the forearm, the exact positions can be seen in figure \ref{fig:musclesensors}.

\begin{figure}[h]
\begin{center}
\includegraphics[width=0.8\textwidth]{example-image-a}
\caption{Example figure text}
\label{fig:musclesensors}
\end{center}
\end{figure}

\subsubsection{Trial/motion overview}

\subsection{Design of a Simulated Prosthetic Hand}

In order to design a state-of-the-art simulated prosthetic hand, a number of anatomical design choises needs to be considered.
This thesis tries to create the most anatomically-correct hand simulation available, this will hopefully have a number of positive effects on prosthetics research.
By having access to an advanced simulation, it would in turn be able to test and visualize more advanced movement controllers that can facilitate more DoF than current commercial prosthetics. 
By creating an anatomically correct prosthetic hand simulation, it is hoped that prosthetics users can have more advanced rehabilitation, and learn to have more natual control of their prosthetics. This would create a more natual usage experience, and decrease the percentage of users that reject the usage of their prosthetic alltogether.

A set of requirements The simulated anatomically correct hand should be determined in order to create a state-of-the-art prosthetics simulation.

The simulated prosthetic should:

\begin{enumerate}
\item Facilitate the same DoF as an anatomically correct hand.
\item Have porpotions that closely resemble that of an anatomically correct hand.
\item Be simulated and be controllable in a commonly used robotics software to increase accesability for researchers.
\end{enumerate}


\subsubsection{Brief of used Software}
\label{sec:software}

Coppeliasim see \cite{coppeliasim}.
%TODO: only for test

\subsubsection{Anatomy}
\label{sec:anatomy}

The hand is an anatomically-complex appendage designed to facilitate a large amount of control in different usage scenarios.
The hand consists of 27 bones, 14 of these are called phalnages, and make up the 4 fingers and the thumb. These bones, alongside a complex set of ??? muscles facilitates 24 DoF (Not counting Translation of the entire hand).
%TODO: How many muscles in the hand / forearm?

The individual finger consists of 3 bones called \gls{phalanges}, arranged linearly from the palm of the hand.
The 3 finger bones are called the proximal phalange, middle phalange and distal phalange.
The joints between the phalanges are able to do \gls{flexion/extension} movement, while the base of the finger is further able to do \gls{abduction/adduction} movement.

%TODO: Muscles of the hand: https://www.assh.org/handcare/safety/muscles
%TODO: Bones of the hand: https://www.bidneedham.org/departments/orthopaedics/hand-program/anatomy-hand-and-wrist

\subsubsection{Simulated Hand Articulation design}

%TODO: see Yuki2023 (page 11) for how to properly show the dimensions of my hand!

In order to translate the biology and anatomy of a real hand into an robotics simulation, we start by denoting the relative lengths of the wrist bones and phalnages by refrence, as can be seen in figure \ref{fig:handref}.

%TODO: IMAGE HERE OF HAND OR XRAY
\begin{figure}[h]
\begin{center}
\includegraphics[width=0.8\textwidth]{example-image-a}
\caption{Example figure text}
\label{fig:handref}
\end{center}
\end{figure}


The porpotions of the refrence is used to denote the bone lengths for the model.
The model is implemented in Coppeliasim \ref{???}, The model is created in a hierachy, the bones are created with cylinders and the joints are created using 1 DoF Revolute joints.
% Ref coppeliasim
As specified in section \ref{sec:anatomy}, some joints of the human hand facilitates 2 DoF of rotation.
This is needed in order for the wrist and finger base joints to be able to do \gls{abduction/adduction}.
To simulate this, two 1 DoF revolute joints were placed in series, thus allowing 2 DoF.

\subsection{Implementation}

Based on the literature review in Section \label{sec:literature}, it becomes apparent that there exists a standard pipeline for translating sEMG recordings into predicted motorcontrol for a prosthetic.




\subsubsection{Data Pre-Processing}
\subsubsection{Network Design}
\subsubsection{Software Hand Design}

\end{document}
